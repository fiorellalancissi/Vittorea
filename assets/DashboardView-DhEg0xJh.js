import{_ as D,g as v,c,b as s,a,t as o,n as m,w as r,d as _,R as u,F as k,r as y,p as h,o as d}from"./index-CNK69vUn.js";import{u as V}from"./admin-DZLQbXIy.js";import{_ as i}from"./Icon-BjZeGox9.js";const C={class:"dashboard"},R={class:"stats-grid"},x={class:"stat-card"},P={class:"stat-icon"},N={class:"stat-info"},A={class:"stat-number"},B={class:"stat-card"},F={class:"stat-icon"},M={class:"stat-info"},T={class:"stat-number"},L={class:"stat-icon"},W={class:"stat-info"},j={class:"stat-number"},q={class:"stat-card stat-card--highlight"},E={class:"stat-icon"},I={class:"stat-info"},$={class:"stat-number"},O={class:"stat-card"},U={class:"stat-icon"},G={class:"stat-info"},H={class:"stat-number"},J={class:"stat-card"},K={class:"stat-icon"},Q={class:"stat-info"},X={class:"stat-number"},Y={class:"stat-card"},Z={class:"stat-icon"},ss={class:"stat-info"},ts={class:"stat-number"},as={class:"stat-icon"},os={class:"stat-info"},ns={class:"stat-number"},is={class:"stat-icon"},es={class:"stat-info"},cs={class:"stat-number"},ds={class:"stat-card stat-card--success"},ls={class:"stat-icon"},rs={class:"stat-info"},_s={class:"stat-number"},us={class:"dashboard-grid"},ms={class:"dashboard-card"},ps={class:"card-header"},vs={key:0,class:"empty-state"},hs={key:1,class:"movements-list"},bs={class:"movement-info"},fs={class:"movement-product"},gs={class:"movement-reason"},ks={class:"movement-date"},ys={class:"dashboard-card"},zs={class:"card-header"},Ss={key:0,class:"empty-state empty-state--success"},ws={key:1,class:"products-list"},Ds=["src","alt"],Vs={class:"product-info"},Cs={class:"product-name"},Rs={class:"product-brand"},xs={class:"quick-actions"},Ps={class:"actions-grid"},Ns={class:"action-icon"},As={class:"action-icon"},Bs={class:"action-icon"},Fs={class:"action-icon"},Ms={__name:"DashboardView",setup(Ts){const p=V(),e=v(()=>p.stats),z=v(()=>p.clientSatisfactionMetrics),b=v(()=>p.movementsWithProduct.slice(0,5)),f=v(()=>p.productsWithBrand.filter(l=>l.stock<=3).slice(0,5));function S(l){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0}).format(l)}function w(l){return new Date(l).toLocaleDateString("es-AR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}return(l,t)=>(d(),c("div",C,[t[21]||(t[21]=s("h1",{class:"page-title"},"Dashboard",-1)),s("div",R,[s("div",x,[s("div",P,[a(i,{name:"bottle",size:28})]),s("div",N,[s("span",A,o(e.value.totalProducts),1),t[0]||(t[0]=s("span",{class:"stat-label"},"Productos",-1))])]),s("div",B,[s("div",F,[a(i,{name:"package",size:28})]),s("div",M,[s("span",T,o(e.value.totalStock),1),t[1]||(t[1]=s("span",{class:"stat-label"},"Unidades en stock",-1))])]),s("div",{class:m(["stat-card",{"stat-card--warning":e.value.lowStockProducts>0}])},[s("div",L,[a(i,{name:"alert",size:28})]),s("div",W,[s("span",j,o(e.value.lowStockProducts),1),t[2]||(t[2]=s("span",{class:"stat-label"},"Stock bajo",-1))])],2),s("div",q,[s("div",E,[a(i,{name:"money",size:28})]),s("div",I,[s("span",$,o(S(e.value.totalValue)),1),t[3]||(t[3]=s("span",{class:"stat-label"},"Valor del inventario",-1))])]),s("div",O,[s("div",U,[a(i,{name:"box",size:28})]),s("div",G,[s("span",H,o(e.value.totalClients),1),t[4]||(t[4]=s("span",{class:"stat-label"},"Clientes registrados",-1))])]),s("div",J,[s("div",K,[a(i,{name:"cart",size:28})]),s("div",Q,[s("span",X,o(e.value.clientsWithOrders),1),t[5]||(t[5]=s("span",{class:"stat-label"},"Clientes con pedidos",-1))])]),s("div",Y,[s("div",Z,[a(i,{name:"refresh",size:28})]),s("div",ss,[s("span",ts,o(e.value.repeatClients),1),t[6]||(t[6]=s("span",{class:"stat-label"},"Clientes recurrentes",-1))])]),s("div",{class:m(["stat-card",{"stat-card--warning":e.value.pendingTransfers>0}])},[s("div",as,[a(i,{name:"clock",size:28})]),s("div",os,[s("span",ns,o(e.value.pendingTransfers),1),t[7]||(t[7]=s("span",{class:"stat-label"},"Compras por confirmar",-1))])],2),s("div",{class:m(["stat-card",{"stat-card--info":e.value.pendingDeliveries>0}])},[s("div",is,[a(i,{name:"truck",size:28})]),s("div",es,[s("span",cs,o(e.value.pendingDeliveries),1),t[8]||(t[8]=s("span",{class:"stat-label"},"Entregas por hacer",-1))])],2),s("div",ds,[s("div",ls,[a(i,{name:"trophy",size:28})]),s("div",rs,[s("span",_s,o(z.value.satisfactionRate)+"%",1),t[9]||(t[9]=s("span",{class:"stat-label"},"Satisfacción positiva",-1))])])]),s("div",us,[s("section",ms,[s("header",ps,[t[11]||(t[11]=s("h2",{class:"card-title"},"Movimientos recientes",-1)),a(_(u),{to:"/admin/inventario",class:"card-link"},{default:r(()=>[...t[10]||(t[10]=[h("Ver todos →",-1)])]),_:1})]),b.value.length===0?(d(),c("div",vs,[...t[12]||(t[12]=[s("p",null,"No hay movimientos registrados",-1)])])):(d(),c("ul",hs,[(d(!0),c(k,null,y(b.value,n=>{var g;return d(),c("li",{key:n.id,class:"movement-item"},[s("span",{class:m(["movement-type",n.type==="ingreso"?"type-in":"type-out"])},o(n.type==="ingreso"?"+":"-")+o(n.quantity),3),s("div",bs,[s("span",fs,o(((g=n.product)==null?void 0:g.name)||"Producto eliminado"),1),s("span",gs,o(n.reason),1)]),s("span",ks,o(w(n.date)),1)])}),128))]))]),s("section",ys,[s("header",zs,[t[14]||(t[14]=s("h2",{class:"card-title"},"Stock bajo",-1)),a(_(u),{to:"/admin/productos",class:"card-link"},{default:r(()=>[...t[13]||(t[13]=[h("Ver todos →",-1)])]),_:1})]),f.value.length===0?(d(),c("div",Ss,[s("p",null,[a(i,{name:"check",size:16}),t[15]||(t[15]=h(" Todo el inventario está bien",-1))])])):(d(),c("ul",ws,[(d(!0),c(k,null,y(f.value,n=>(d(),c("li",{key:n.id,class:"product-item"},[s("img",{src:n.image,alt:n.name,class:"product-thumb"},null,8,Ds),s("div",Vs,[s("span",Cs,o(n.name),1),s("span",Rs,o(n.brand),1)]),s("span",{class:m(["product-stock",{"out-of-stock":n.stock===0}])},o(n.stock===0?"Sin stock":`${n.stock} uds`),3)]))),128))]))])]),s("section",xs,[t[20]||(t[20]=s("h2",{class:"section-title"},"Acciones rápidas",-1)),s("div",Ps,[a(_(u),{to:"/admin/inventario?action=ingreso",class:"action-card action-card--primary"},{default:r(()=>[s("span",Ns,[a(i,{name:"download",size:24})]),t[16]||(t[16]=s("span",{class:"action-label"},"Registrar ingreso",-1))]),_:1}),a(_(u),{to:"/admin/inventario?action=egreso",class:"action-card action-card--secondary"},{default:r(()=>[s("span",As,[a(i,{name:"upload",size:24})]),t[17]||(t[17]=s("span",{class:"action-label"},"Registrar egreso",-1))]),_:1}),a(_(u),{to:"/admin/productos?action=nuevo",class:"action-card"},{default:r(()=>[s("span",Bs,[a(i,{name:"plus",size:24})]),t[18]||(t[18]=s("span",{class:"action-label"},"Nuevo producto",-1))]),_:1}),a(_(u),{to:"/admin/clientes",class:"action-card"},{default:r(()=>[s("span",Fs,[a(i,{name:"box",size:24})]),t[19]||(t[19]=s("span",{class:"action-label"},"Ver clientes",-1))]),_:1})])])]))}},qs=D(Ms,[["__scopeId","data-v-ca27fb70"]]);export{qs as default};
